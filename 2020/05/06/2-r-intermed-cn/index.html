<!DOCTYPE HTML>
<html lang="ZH-cn">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Intermediate R,  ">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48">
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7">
    <meta name="description" content="1. Boolean 逻辑判断Equality 等效逻辑判断R用==用来判别其左右两边的语句是否等价，如果等价，返回逻辑值TRUE, 否则返回FALSE
# Comparison of logicals
TRUE == FALSE

# C">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Intermediate R | Yuandong&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Yuandong's Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>Index</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>Tags</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>Categories</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>Archives</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>About</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Yuandong's Blog</div>
        <div class="logo-desc">
            
            Anything worth doing is worth doing well.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                Index
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                Tags
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                Categories
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                Archives
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                About
            </a>
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/16.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Intermediate R
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/R/" target="_blank">
                            <span class="chip bg-color">R</span>
                        </a>
                        
                        <a href="/tags/data-science/" target="_blank">
                            <span class="chip bg-color">data science</span>
                        </a>
                        
                        <a href="/tags/concepts/" target="_blank">
                            <span class="chip bg-color">concepts</span>
                        </a>
                        
                        <a href="/tags/advanced/" target="_blank">
                            <span class="chip bg-color">advanced</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/Courses/" class="post-category" target="_blank">
                            Courses
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-05-06
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>Author:&nbsp;&nbsp;
                    
                    Yuandong Qi
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                    399
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                    1 Min
                </div>
                
                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="1-Boolean-逻辑判断"><a href="#1-Boolean-逻辑判断" class="headerlink" title="1. Boolean 逻辑判断"></a>1. Boolean 逻辑判断</h2><h3 id="Equality-等效逻辑判断"><a href="#Equality-等效逻辑判断" class="headerlink" title="Equality 等效逻辑判断"></a>Equality 等效逻辑判断</h3><p>R用<code>==</code>用来判别其左右两边的语句是否等价，如果等价，返回逻辑值<code>TRUE</code>, 否则返回<code>FALSE</code></p>
<pre class="line-numbers language-R"><code class="language-R"># Comparison of logicals
TRUE == FALSE

# Comparison of numerics
-6 * 14 != 17 - 101

# Comparison of character strings
"useR" == "user"

# Compare a logical with a numeric
TRUE == 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>FALSE</p>
<p>FALSE</p>
<p>FALSE</p>
<p>TRUE</p>
<p>因为 <code>TRUE</code> 在底层被赋值为1, 所以<code>TRUE == 1</code> 被判断为 <code>TRUE</code>. 请注意<code>==</code> 和 <code>=</code>的不同。一个是比较，一个是赋值，虽然我们在R里面通常用 <code>&lt;-</code> 来赋值。</p>
<h3 id="Greater-and-less-than-大于和小于"><a href="#Greater-and-less-than-大于和小于" class="headerlink" title="Greater and less than 大于和小于"></a>Greater and less than 大于和小于</h3><p>这里我们介绍大于<code>&gt;</code>和小于 <code>&lt;</code>, 你可以添加<code>=</code> 来表示 大于等于或者小于等于。看看下面的例子，脑补一下出来的逻辑判断是什么？ </p>
<ul>
<li>(1 + 2) &gt; 4</li>
<li>“dog” &lt; “Cats”</li>
<li>TRUE &lt;= FALSE</li>
</ul>
<p>R基于字母表的顺序对字符串进行比较。</p>
<pre class="line-numbers language-R"><code class="language-R"># Comparison of numerics
-6 * 5 + 2 >= -10 + 1

# Comparison of character strings
"raining" <= "raining dogs"

# Comparison of logicals
TRUE > FALSE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>FALSE</p>
<p>TRUE</p>
<p>TRUE</p>
<h3 id="比较向量-Compare-vectors"><a href="#比较向量-Compare-vectors" class="headerlink" title="比较向量 Compare vectors"></a>比较向量 Compare vectors</h3><p>R 对于向量的处理是非常在行的，不用额外的修改，R就能执行向量有关的操作。</p>
<p>下面的示例代码给出了两个向量，一个是weibo, 一个是twitter。每一个向量记录了过去7天，你的页面被浏览的次数。</p>
<p>小练习：
使用关系运算符（relational operators）, 找到逻辑判断答案, i.e. TRUE or FALSE, 问题如下:</p>
<ul>
<li><p>哪些天你的微博被浏览次数超过 16?</p>
</li>
<li><p>哪些天你的微博浏览次数低于10?</p>
</li>
<li><p>哪些天你的微博浏览次数超过twitter？</p>
</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R"># The weibo and twitter vectors have already been created for you
weibo <- c(15, 9, 13, 6, 7, 14, 14)
twitter <- c(20, 7, 6, 16, 9, 13, 14)

# Popular days
weibo > 16<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Quiet days
weibo <= 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># weibo more popular than twitter
weibo > twitter<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
</ol>



<h3 id="比较矩阵Compare-matrices"><a href="#比较矩阵Compare-matrices" class="headerlink" title="比较矩阵Compare matrices"></a>比较矩阵Compare matrices</h3><p>R 可以处理各种不同的数据结构，自然也包括矩阵。</p>
<p>这一次 weibo 和 twitter被存储在一个叫做views的矩阵里面。 第一行包含 weibo 的浏览量; 第二行是 twitter 的， twitter and weibo 的原始向量也都在。</p>
<p>小练习：</p>
<ul>
<li><p>什么时候浏览量刚好是6？用 views 这个矩阵来得到一个逻辑矩阵。 </p>
</li>
<li><p>哪些天的浏览量小于5？</p>
</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R"># The social data has been created for you
weibo <- c(16, 9, 13, 5, 2, 17, 14)
twitter <- c(17, 7, 5, 16, 8, 13, 14)
views <- matrix(c(weibo, twitter), nrow = 2, byrow = TRUE)
views<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><td>16</td><td>9 </td><td>13</td><td> 5</td><td>2 </td><td>17</td><td>14</td></tr>
    <tr><td>17</td><td>7 </td><td> 5</td><td>16</td><td>8 </td><td>13</td><td>14</td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R"># When does views equal 13?
views == 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R"># When is views less than or equal to 14?
views <= 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td><td> TRUE</td><td> TRUE</td><td>FALSE</td><td>FALSE</td></tr>
    <tr><td>FALSE</td><td>FALSE</td><td> TRUE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
</tbody>
</table>



<h3 id="amp-and"><a href="#amp-and" class="headerlink" title="&amp; and |"></a>&amp; and |</h3><p>下面这些表达式的结果都是 TRUE:</p>
<ul>
<li><p>TRUE &amp; TRUE</p>
</li>
<li><p>FALSE | TRUE</p>
</li>
<li><p>5 &lt;= 5 &amp; 2 &lt; 3</p>
</li>
<li><p>3 &lt; 4 | 7 &lt; 6</p>
</li>
</ul>
<p>特别注意， 3 &lt; x &lt; 7 不能用来检测 x 是否在 3 and 7 之间; 要达到这个比较的目的，你需要使用 3 &lt; x &amp; x &lt; 7。</p>
<p>在下面的小练习里，你将使用last这个变量，你最后一天weibo的浏览量。</p>
<ul>
<li>最后一天的浏览量是小于5还是大于10?</li>
<li>最后一天的浏览量是在15到20之间么（左开右闭区间）?</li>
</ul>
<p>提示:
在最后的那一小题，记得要使用 &amp; 两次， | 一次。使用括号来确保运行的顺序正确。</p>
<pre class="line-numbers language-R"><code class="language-R"># The weibo and last variable are already defined for you
weibo <- c(16, 9, 13, 5, 2, 17, 14)
last <- tail(weibo, 1)
last<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>14</p>
<pre class="line-numbers language-R"><code class="language-R"># Is last under 5 or above 10?
last < 5 | last > 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>TRUE</p>
<pre class="line-numbers language-R"><code class="language-R"># Is last between 15 (exclusive) and 20 (inclusive)?
last > 15 & last <= 20<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>FALSE</p>
<h2 id="2-Conditional-statements"><a href="#2-Conditional-statements" class="headerlink" title="2. Conditional statements"></a>2. Conditional statements</h2><h3 id="if-statement"><a href="#if-statement" class="headerlink" title="if statement"></a>if statement</h3><pre class="line-numbers language-R"><code class="language-R"># Variables related to your last day of recordings
medium <- "weibo"
num_views <- 14

# Examine the if statement for medium
if (medium == "weibo") {
print("Showing weibo information")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Showing weibo information&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R">
# Write the if statement for num_views
if (num_views > 15) {
print("You're popular!")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Variables related to your last day of recordings
medium <- "weibo"
num_views <- 14

# Control structure for medium
if (medium == "weibo") {
print("Showing weibo information")
} else{
print("Unknown medium")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Showing weibo information&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># Control structure for num_views
if (num_views > 15) {
print("You're popular!")
} else {
print("Try to be more visible!")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Try to be more visible!&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># Variables related to your last day of recordings
medium <- "twitter"
num_views <- 14

# Control structure for medium
if (medium == "weibo") {
print("Showing weibo information")
} else if (medium == "twitter") {
# Add code to print correct string when condition is TRUE
print("Showing twitter information")
} else {
print("Unknown medium")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Showing twitter information&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># Variables related to your last day of recordings
medium <- "weibo"
num_views <- 14

# Control structure for medium
if (medium == "weibo") {
print("Showing weibo information")
} else if (medium == "twitter") {
# Add code to print correct string when condition is TRUE
print("Showing twitter information")
} else {
print("Unknown medium")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Showing weibo information&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># Variables related to your last day of recordings
li <- 15
fb <- 9

# Code the control-flow construct
if (li >= 15 & fb >= 15) {
sms <- 2 * (li + fb)
} else if (li < 10 & fb < 10) {
sms <- 0.5 * (li + fb)
} else {
sms <- li + fb
}

# Print the resulting sms to the console
print(sms)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 24</code></pre><h2 id="3-while-loop"><a href="#3-while-loop" class="headerlink" title="3. while loop"></a>3. while loop</h2><pre class="line-numbers language-R"><code class="language-R"># Initialize the speed variable
speed <- 64

# Code the while loop
while (speed > 30) {
  print("Slow down!")
  speed <- speed - 7
}

# Print out the speed variable
speed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Slow down!&quot;
[1] &quot;Slow down!&quot;
[1] &quot;Slow down!&quot;
[1] &quot;Slow down!&quot;
[1] &quot;Slow down!&quot;</code></pre><p>29</p>
<pre class="line-numbers language-R"><code class="language-R"># Initialize the speed variable
speed <- 64

# Extend/adapt the while loop
while (speed > 30) {
  print(paste("Your speed is", speed))
  if (speed > 48) {
    print("Slow down big time!")
    speed <- speed - 11
  } else {
    print("Slow down!")
    speed <- speed - 6
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Your speed is 64&quot;
[1] &quot;Slow down big time!&quot;
[1] &quot;Your speed is 53&quot;
[1] &quot;Slow down big time!&quot;
[1] &quot;Your speed is 42&quot;
[1] &quot;Slow down!&quot;
[1] &quot;Your speed is 36&quot;
[1] &quot;Slow down!&quot;</code></pre><h3 id="Stop-the-while-loop-break"><a href="#Stop-the-while-loop-break" class="headerlink" title="Stop the while loop: break"></a>Stop the while loop: break</h3><p>Remember that the break statement is a control statement. When R encounters it, the while loop is abandoned completely.</p>
<pre class="line-numbers language-R"><code class="language-R"># Initialize the speed variable
speed <- 88

while (speed > 30) {
  print(paste("Your speed is", speed))

  # Break the while loop when speed exceeds 80
  if ( speed > 80) {
    break
  }

  if (speed > 48) {
    print("Slow down big time!")
    speed <- speed - 11
  } else {
    print("Slow down!")
    speed <- speed - 6
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Your speed is 88&quot;</code></pre><h3 id="build-a-while-loop-from-scratch"><a href="#build-a-while-loop-from-scratch" class="headerlink" title="build a while loop from scratch"></a>build a while loop from scratch</h3><pre class="line-numbers language-R"><code class="language-R"># Initialize i as 1 
i <- 1

# Code the while loop
while (i <= 10) {
  print(3 * i)
  if ( (3 * i) %% 8 == 0  ) {
    print(3 * i)
    break
  }
  i <- i + 1
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 3
[1] 6
[1] 9
[1] 12
[1] 15
[1] 18
[1] 21
[1] 24
[1] 24</code></pre><h3 id="Loop-over-a-vector"><a href="#Loop-over-a-vector" class="headerlink" title="Loop over a vector"></a>Loop over a vector</h3><pre class="line-numbers language-R"><code class="language-R"># The linkedin vector has already been defined for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)

# Loop version 1
for (lin in linkedin) {
  print(lin)
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 16
[1] 9
[1] 13
[1] 5
[1] 2
[1] 17
[1] 14</code></pre><pre class="line-numbers language-R"><code class="language-R"># Loop version 2
for(i in 1:length(linkedin)){
  print(linkedin[i])
  }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 16
[1] 9
[1] 13
[1] 5
[1] 2
[1] 17
[1] 14</code></pre><h3 id="Loop-over-a-list"><a href="#Loop-over-a-list" class="headerlink" title="Loop over a list"></a>Loop over a list</h3><pre class="line-numbers language-R"><code class="language-R"># The nyc list is already specified
nyc <- list(pop = 8405837, 
            boroughs = c("Manhattan", "Bronx", "Brooklyn", "Queens", "Staten Island"), 
            capital = FALSE)

# Loop version 1
for(n in nyc){
  print(n)
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 8405837
[1] &quot;Manhattan&quot;     &quot;Bronx&quot;         &quot;Brooklyn&quot;      &quot;Queens&quot;       
[5] &quot;Staten Island&quot;
[1] FALSE</code></pre><pre class="line-numbers language-R"><code class="language-R"># Loop version 2
for(i in 1:length(nyc)){
  print(nyc[[i]])
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 8405837
[1] &quot;Manhattan&quot;     &quot;Bronx&quot;         &quot;Brooklyn&quot;      &quot;Queens&quot;       
[5] &quot;Staten Island&quot;
[1] FALSE</code></pre><h3 id="Loop-over-a-matrix"><a href="#Loop-over-a-matrix" class="headerlink" title="Loop over a matrix"></a>Loop over a matrix</h3><pre class="line-numbers language-R"><code class="language-R">ttt<-matrix(c("O",NA,"X",NA,"O","O","X",NA,"X"), nrow=3, byrow=TRUE)
ttt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><td>O </td><td>NA</td><td>X </td></tr>
    <tr><td>NA</td><td>O </td><td>O </td></tr>
    <tr><td>X </td><td>NA</td><td>X </td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R"># define the double for loop
for (i in 1:nrow(ttt)) {
  for (j in 1:ncol(ttt)) {
    print(paste("On row", i, "and column", j, "the board contains", ttt[i,j]))
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;On row 1 and column 1 the board contains O&quot;
[1] &quot;On row 1 and column 2 the board contains NA&quot;
[1] &quot;On row 1 and column 3 the board contains X&quot;
[1] &quot;On row 2 and column 1 the board contains NA&quot;
[1] &quot;On row 2 and column 2 the board contains O&quot;
[1] &quot;On row 2 and column 3 the board contains O&quot;
[1] &quot;On row 3 and column 1 the board contains X&quot;
[1] &quot;On row 3 and column 2 the board contains NA&quot;
[1] &quot;On row 3 and column 3 the board contains X&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># The linkedin vector has already been defined for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)

# Extend the for loop
for (li in linkedin) {
  if (li > 10) {
    print("You're popular!")
  } else {
    print("Be more visible!")
  }

  # Add if statement with break
  if (li > 16){
  print("This is ridiculous, I'm outta here!")
  }
  # Add if statement with next
  if (li < 5){
    print("This is too embarrassing!")
    next
  }

  print(li)
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;You&#39;re popular!&quot;
[1] 16
[1] &quot;Be more visible!&quot;
[1] 9
[1] &quot;You&#39;re popular!&quot;
[1] 13
[1] &quot;Be more visible!&quot;
[1] 5
[1] &quot;Be more visible!&quot;
[1] &quot;This is too embarrassing!&quot;
[1] &quot;You&#39;re popular!&quot;
[1] &quot;This is ridiculous, I&#39;m outta here!&quot;
[1] 17
[1] &quot;You&#39;re popular!&quot;
[1] 14</code></pre><h3 id="Build-a-for-loop-from-scratch"><a href="#Build-a-for-loop-from-scratch" class="headerlink" title="Build a for loop from scratch"></a>Build a for loop from scratch</h3><pre class="line-numbers language-R"><code class="language-R"># Pre-defined variables
rquote <- "r's internals are irrefutably intriguing"
chars <- strsplit(rquote, split = "")[[1]]

# Initialize rcount
rcount <- 0

# Finish the for loop
for (char in chars) {
  if(char == "r")
rcount = rcount + 1
if(char == "u")
  break
}

# Print out rcount
print(rcount)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] 5</code></pre><h2 id="4-Function"><a href="#4-Function" class="headerlink" title="4. Function"></a>4. Function</h2><pre class="line-numbers language-R"><code class="language-R">?mean
help(mean)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Inspect the arguments of the mean() function
args(mean)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="language-r"><code>function (x, ...) 
NULL</code></pre>



<pre class="line-numbers language-R"><code class="language-R"># The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)
facebook <- c(17, 7, 5, 16, 8, 13, 14)

# Calculate average number of views
avg_li <- mean(x = linkedin)
avg_fb <- mean(facebook)


# Inspect avg_li and avg_fb
avg_li
avg_fb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>10.8571428571429</p>
<p>11.4285714285714</p>
<pre class="line-numbers language-R"><code class="language-R">linkedin + facebook<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol class="list-inline">
    <li>33</li>
    <li>16</li>
    <li>18</li>
    <li>21</li>
    <li>10</li>
    <li>30</li>
    <li>28</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)
facebook <- c(17, 7, 5, 16, 8, 13, 14)

# Calculate the mean of the sum
avg_sum <- mean(linkedin + facebook)

# Calculate the trimmed mean of the sum
avg_sum_trimmed <- mean(x= (linkedin + facebook), trim = 0.2)

# Inspect both new variables
avg_sum
avg_sum_trimmed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>22.2857142857143</p>
<p>22.6</p>
<p>When the trim argument is not zero, it chops off a fraction (equal to trim) of the vector you pass as argument x.</p>
<pre class="line-numbers language-R"><code class="language-R"># The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, NA, 17, 14)
facebook <- c(17, NA, 5, 16, 8, 13, 14)

# Basic average of linkedin
mean(linkedin)

# Advanced average of linkedin
mean(linkedin, na.rm = TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&lt;NA&gt;</p>
<p>12.3333333333333</p>
<pre class="line-numbers language-R"><code class="language-R"># The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, NA, 17, 14)
facebook <- c(17, NA, 5, 16, 8, 13, 14)

# Calculate the mean absolute deviation
mean(abs(linkedin - facebook), na.rm = TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>4.8</p>
<h3 id="Create-a-function"><a href="#Create-a-function" class="headerlink" title="Create a function"></a>Create a function</h3><pre class="line-numbers language-R"><code class="language-R"># Create a function pow_two()
pow_two <- function(a){
 a^2
}

# Use the function
pow_two(12)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>144</p>
<pre class="line-numbers language-R"><code class="language-R"># Create a function sum_abs()
sum_abs <- function(a, b){
  abs(a) + abs(b)
}

# Use the function
sum_abs(-2, 3)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>5</p>
<pre class="line-numbers language-R"><code class="language-R">hello <- function(){
 print("Hi there!")
  return(TRUE)
}


# Call the function hello()
hello()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;Hi there!&quot;</code></pre><p>TRUE</p>
<pre class="line-numbers language-R"><code class="language-R"># Finish the pow_two() function
pow_two <- function(x, print_info=TRUE) {
  y <- x ^ 2
  if(print_info == TRUE){
  print(paste(x, "to the power two equals", y))
  }
  return(y)
}

pow_two(100, TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;100 to the power two equals 10000&quot;</code></pre><p>10000</p>
<pre class="line-numbers language-R"><code class="language-R">linkedin <- c(16, 9, 13, 5, 5, 17, 14)
facebook <- c(17, 40, 5, 16, 8, 13, 14)
# Define the interpret function
interpret <- function(num_views) {
  if (num_views > 15) {
     print("You're popular!")
     return(num_views)
  } else {
    print("Try to be more visible!")
    return(0)
  }
}

# Call the interpret function twice
interpret(linkedin)
interpret(facebook[2])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Warning message in if (num_views &gt; 15) {:
“the condition has length &gt; 1 and only the first element will be used”

[1] &quot;You&#39;re popular!&quot;</code></pre><ol class="list-inline">
    <li>16</li>
    <li>9</li>
    <li>13</li>
    <li>5</li>
    <li>5</li>
    <li>17</li>
    <li>14</li>
</ol>



<pre><code>[1] &quot;You&#39;re popular!&quot;</code></pre><p>40</p>
<pre class="line-numbers language-R"><code class="language-R"># The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)
facebook <- c(17, 7, 5, 16, 8, 13, 14)

# The interpret() can be used inside interpret_all()
interpret <- function(num_views) {
  if (num_views > 15) {
    print("You're popular!")
    return(num_views)
  } else {
    print("Try to be more visible!")
    return(0)
  }
}

# Define the interpret_all() function
# views: vector with data to interpret
# return_sum: return total number of views on popular days
interpret_all <- function(views, return_sum=TRUE) {
  count <- 0
  for (v in views) {
  count <- count + interpret(v)

  }
  if (return_sum == TRUE) {
     return(count)
  } else {
    return(NULL)
  }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Call the interpret_all() function on both linkedin and facebook
interpret_all(linkedin)
interpret_all(facebook)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;You&#39;re popular!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;You&#39;re popular!&quot;
[1] &quot;Try to be more visible!&quot;</code></pre><p>33</p>
<pre><code>[1] &quot;You&#39;re popular!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;You&#39;re popular!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;
[1] &quot;Try to be more visible!&quot;</code></pre><p>33</p>
<pre class="line-numbers language-R"><code class="language-R"># Check out the currently attached packages again
search()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>'.GlobalEnv'</li>
    <li>'jupyter:irkernel'</li>
    <li>'package:stats'</li>
    <li>'package:graphics'</li>
    <li>'package:grDevices'</li>
    <li>'package:utils'</li>
    <li>'package:datasets'</li>
    <li>'package:methods'</li>
    <li>'Autoloads'</li>
    <li>'package:base'</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Load the ggplot2 package
library(ggplot2)

# Retry the qplot() function
qplot(mtcars$wt, mtcars$hp)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Registered S3 methods overwritten by &#39;ggplot2&#39;:
  method         from 
  [.quosures     rlang
  c.quosures     rlang
  print.quosures rlang</code></pre><p><img src="2-r-intermed-cn_files/2-r-intermed-cn_61_1.png" alt="png"></p>
<h2 id="5-apply-family"><a href="#5-apply-family" class="headerlink" title="5. apply family"></a>5. apply family</h2><h3 id="lapply-and-anonymous-functions"><a href="#lapply-and-anonymous-functions" class="headerlink" title="lapply and anonymous functions"></a>lapply and anonymous functions</h3><pre class="line-numbers language-R"><code class="language-R"># Definition of split_low
pioneers <- c("GAUSS:1777", "BAYES:1702", "PASCAL:1623", "PEARSON:1857")
split <- strsplit(pioneers, split = ":")
split_low <- lapply(split, tolower)
split_low<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
    <li><ol class="list-inline">
    <li>'gauss'</li>
    <li>'1777'</li>
</ol>
</li>
    <li><ol class="list-inline">
    <li>'bayes'</li>
    <li>'1702'</li>
</ol>
</li>
    <li><ol class="list-inline">
    <li>'pascal'</li>
    <li>'1623'</li>
</ol>
</li>
    <li><ol class="list-inline">
    <li>'pearson'</li>
    <li>'1857'</li>
</ol>
</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Transform: use anonymous function inside lapply
names <- lapply(split_low, function(x) {x[1]}  )
names
# Transform: use anonymous function inside lapply
 years <- lapply(split_low, function(x) {x[2]})
years<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
    <li>'gauss'</li>
    <li>'bayes'</li>
    <li>'pascal'</li>
    <li>'pearson'</li>
</ol>




<ol>
    <li>'1777'</li>
    <li>'1702'</li>
    <li>'1623'</li>
    <li>'1857'</li>
</ol>



<h3 id="Use-lapply-with-additional-arguments"><a href="#Use-lapply-with-additional-arguments" class="headerlink" title="Use lapply with additional arguments"></a>Use lapply with additional arguments</h3><pre class="line-numbers language-R"><code class="language-R"># Definition of split_low
pioneers <- c("GAUSS:1777", "BAYES:1702", "PASCAL:1623", "PEARSON:1857")
split <- strsplit(pioneers, split = ":")
split_low <- lapply(split, tolower)

# Generic select function
select_el <- function(x, index) {
  x[index]
}

# Use lapply() twice on split_low: names and years
names <- lapply(split_low, select_el, index = 1)
names
years <- lapply(split_low, select_el, index = 2)
years<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
    <li>'gauss'</li>
    <li>'bayes'</li>
    <li>'pascal'</li>
    <li>'pearson'</li>
</ol>




<ol>
    <li>'1777'</li>
    <li>'1702'</li>
    <li>'1623'</li>
    <li>'1857'</li>
</ol>



<h3 id="How-to-use-sapply"><a href="#How-to-use-sapply" class="headerlink" title="How to use sapply"></a>How to use sapply</h3><pre class="line-numbers language-R"><code class="language-R">temp<-list(c(3,7,9,6,-1),c(6,9,12,13,5),c(4,8,3,-1,-3),c(1,4,7,2,-2),c(5,7,9,4,2),c(-3,5,8,9,4),c(3,6,9,4,1))
# Use lapply() to find each day's minimum temperature
lapply(temp, min)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol>
    <li>-1</li>
    <li>5</li>
    <li>-3</li>
    <li>-2</li>
    <li>2</li>
    <li>-3</li>
    <li>1</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Use sapply() to find each day's minimum temperature
sapply(temp, min)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>-1</li>
    <li>5</li>
    <li>-3</li>
    <li>-2</li>
    <li>2</li>
    <li>-3</li>
    <li>1</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Use lapply() to find each day's maximum temperature
lapply(temp, max)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol>
    <li>9</li>
    <li>13</li>
    <li>8</li>
    <li>7</li>
    <li>9</li>
    <li>9</li>
    <li>9</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Use sapply() to find each day's maximum temperature
sapply(temp, max)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>9</li>
    <li>13</li>
    <li>8</li>
    <li>7</li>
    <li>9</li>
    <li>9</li>
    <li>9</li>
</ol>



<h3 id="sapply-with-your-own-function"><a href="#sapply-with-your-own-function" class="headerlink" title="sapply with your own function"></a>sapply with your own function</h3><pre class="line-numbers language-R"><code class="language-R">extremes_avg <- function(x) {
  ( min(x) + max(x) ) / 2
}

# Apply extremes_avg() over temp using sapply()
sapply(temp, extremes_avg)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>4</li>
    <li>9</li>
    <li>2.5</li>
    <li>2.5</li>
    <li>5.5</li>
    <li>3</li>
    <li>5</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Apply extremes_avg() over temp using lapply()
lapply(temp, extremes_avg)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol>
    <li>4</li>
    <li>9</li>
    <li>2.5</li>
    <li>2.5</li>
    <li>5.5</li>
    <li>3</li>
    <li>5</li>
</ol>



<h3 id="sapply-with-function-returning-vector"><a href="#sapply-with-function-returning-vector" class="headerlink" title="sapply with function returning vector"></a>sapply with function returning vector</h3><pre class="line-numbers language-R"><code class="language-R"># Create a function that returns min and max of a vector: extremes
extremes <- function(x) {
  c(min = min(x), max = max(x))
}

# Apply extremes() over temp with sapply()
sapply(temp, extremes)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><th scope="row">min</th><td>-1</td><td> 5</td><td>-3</td><td>-2</td><td>2 </td><td>-3</td><td>1 </td></tr>
    <tr><th scope="row">max</th><td> 9</td><td>13</td><td> 8</td><td> 7</td><td>9 </td><td> 9</td><td>9 </td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R"># Apply extremes() over temp with lapply()
lapply(temp, extremes)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>-1</dd>
    <dt>max</dt>
        <dd>9</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>5</dd>
    <dt>max</dt>
        <dd>13</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>-3</dd>
    <dt>max</dt>
        <dd>8</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>-2</dd>
    <dt>max</dt>
        <dd>7</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>2</dd>
    <dt>max</dt>
        <dd>9</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>-3</dd>
    <dt>max</dt>
        <dd>9</dd>
</dl>
</li>
    <li><dl class="dl-horizontal">
    <dt>min</dt>
        <dd>1</dd>
    <dt>max</dt>
        <dd>9</dd>
</dl>
</li>
</ol>



<h3 id="sapply-can’t-simplify-now-what"><a href="#sapply-can’t-simplify-now-what" class="headerlink" title="sapply can’t simplify, now what?"></a>sapply can’t simplify, now what?</h3><pre class="line-numbers language-R"><code class="language-R"># Definition of below_zero()
below_zero <- function(x) {
  return(x[x < 0])
}

# Apply below_zero over temp using sapply(): freezing_s
freezing_s <- sapply(temp, below_zero)
freezing_s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
    <li>-1</li>
    <li></li>
    <li><ol class="list-inline">
    <li>-1</li>
    <li>-3</li>
</ol>
</li>
    <li>-2</li>
    <li></li>
    <li>-3</li>
    <li></li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Apply below_zero over temp using lapply(): freezing_l
freezing_l <- lapply(temp, below_zero)
freezing_l<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol>
    <li>-1</li>
    <li></li>
    <li><ol class="list-inline">
    <li>-1</li>
    <li>-3</li>
</ol>
</li>
    <li>-2</li>
    <li></li>
    <li>-3</li>
    <li></li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Are freezing_s and freezing_l identical?
identical(freezing_s, freezing_l)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>TRUE</p>
<h3 id="sapply-with-functions-that-return-NULL"><a href="#sapply-with-functions-that-return-NULL" class="headerlink" title="sapply with functions that return NULL"></a>sapply with functions that return NULL</h3><pre class="line-numbers language-R"><code class="language-R"># Definition of print_info()
print_info <- function(x) {
  cat("The average temperature is", mean(x), "\n")
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Apply print_info() over temp using sapply()
sapply(temp, print_info)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>The average temperature is 4.8 
The average temperature is 9 
The average temperature is 2.2 
The average temperature is 2.4 
The average temperature is 5.4 
The average temperature is 4.6 
The average temperature is 4.6 </code></pre><ol>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Apply print_info() over temp using lapply()
lapply(temp, print_info)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>The average temperature is 4.8 
The average temperature is 9 
The average temperature is 2.2 
The average temperature is 2.4 
The average temperature is 5.4 
The average temperature is 4.6 
The average temperature is 4.6 </code></pre><ol>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
    <li>NULL</li>
</ol>



<p>Notice here that, quite surprisingly, sapply() does not simplify the list of NULL’s. That’s because the ‘vector-version’ of a list of NULL’s would simply be a NULL, which is no longer a vector with the same length as the input. Proceed to the next exercise.</p>
<h3 id="Use-vapply"><a href="#Use-vapply" class="headerlink" title="Use vapply"></a>Use vapply</h3><p>vapply() can be considered a more robust version of sapply(), because you explicitly restrict the output of the function you want to apply. </p>
<pre class="line-numbers language-R"><code class="language-R"># Definition of basics()
basics <- function(x) {
  c(min = min(x), mean = mean(x), max = max(x))
}

# Apply basics() over temp using vapply()
vapply(temp, basics, numeric(3))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<tbody>
    <tr><th scope="row">min</th><td>-1.0</td><td> 5  </td><td>-3.0</td><td>-2.0</td><td>2.0 </td><td>-3.0</td><td>1.0 </td></tr>
    <tr><th scope="row">mean</th><td> 4.8</td><td> 9  </td><td> 2.2</td><td> 2.4</td><td>5.4 </td><td> 4.6</td><td>4.6 </td></tr>
    <tr><th scope="row">max</th><td> 9.0</td><td>13  </td><td> 8.0</td><td> 7.0</td><td>9.0 </td><td> 9.0</td><td>9.0 </td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R">sapply(temp, max)
vapply(temp, max, numeric(1))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>9</li>
    <li>13</li>
    <li>8</li>
    <li>7</li>
    <li>9</li>
    <li>9</li>
    <li>9</li>
</ol>




<ol class="list-inline">
    <li>9</li>
    <li>13</li>
    <li>8</li>
    <li>7</li>
    <li>9</li>
    <li>9</li>
    <li>9</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Convert to vapply() expression
sapply(temp, function(x, y) { mean(x) > y }, y = 5)
vapply(temp, function(x, y) { mean(x) > y }, y = 5, logical(1))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
</ol>




<ol class="list-inline">
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
</ol>



<h2 id="6-Some-important-functions"><a href="#6-Some-important-functions" class="headerlink" title="6. Some important functions"></a>6. Some important functions</h2><pre class="line-numbers language-R"><code class="language-R">errors <- c(1.9, -2.6, 4.0, -9.5, -3.4, 7.3)

# Sum of absolute rounded values of errors
sum(round(abs(errors)))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>29</p>
<h3 id="Data-Utilities"><a href="#Data-Utilities" class="headerlink" title="Data Utilities"></a>Data Utilities</h3><p>R features a bunch of functions to juggle around with data structures:</p>
<ul>
<li><code>seq()</code>: Generate sequences, by specifying the from, to, and by arguments.</li>
<li><code>rep()</code>: Replicate elements of vectors and lists.</li>
<li><code>sort()</code>: Sort a vector in ascending order. Works on numerics, but also on character strings and logicals.</li>
<li><code>rev()</code>: Reverse the elements in a data structures for which reversal is defined.</li>
<li><code>str()</code>: Display the structure of any R object.</li>
<li><code>append()</code>: Merge vectors or lists.</li>
<li><code>is.*()</code>: Check for the class of an R object.</li>
<li><code>as.*()</code>: Convert an R object from one class to another.</li>
<li><code>unlist()</code>: Flatten (possibly embedded) lists to produce a vector.</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R">linkedin <- list(16, 9, 13, 5, 2, 17, 14)
facebook <- list(17, 7, 5, 16, 8, 13, 14)

# Convert linkedin and facebook to a vector: li_vec and fb_vec
li_vec <- unlist(linkedin)
li_vec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>16</li>
    <li>9</li>
    <li>13</li>
    <li>5</li>
    <li>2</li>
    <li>17</li>
    <li>14</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R">fb_vec <- unlist(facebook)
# Append fb_vec to li_vec: social_vec
social_vec <- append(li_vec, fb_vec)

# Sort social_vec
sort(social_vec, decreasing = TRUE)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>17</li>
    <li>17</li>
    <li>16</li>
    <li>16</li>
    <li>14</li>
    <li>14</li>
    <li>13</li>
    <li>13</li>
    <li>9</li>
    <li>8</li>
    <li>7</li>
    <li>5</li>
    <li>5</li>
    <li>2</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R">rep(seq(1, 7, by = 2), times = 7)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Create first sequence: seq1
seq1 <- seq(1, 500, by = 3)

# Create second sequence: seq2
seq2 <- seq(1200, 900, by = -7)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R"># Calculate total sum of the sequences
sum(c(seq1, seq2))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>87029</p>
<h3 id="grepl-amp-grep"><a href="#grepl-amp-grep" class="headerlink" title="grepl &amp; grep"></a>grepl &amp; grep</h3><p>In their most basic form, regular expressions can be used to see whether a pattern exists inside a character string or a vector of character strings. For this purpose, you can use:</p>
<ul>
<li><code>grepl()</code>, which returns TRUE when a pattern is found in the corresponding character string.</li>
<li><code>grep()</code>, which returns a vector of indices of the character strings that contains the pattern.</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R"># The emails vector has already been defined for you
emails <- c("john.doe@ivyleague.edu", "education@world.gov", "dalai.lama@peace.org",
            "invalid.edu", "quant@bigdatacollege.edu", "cookie.monster@sesame.tv")

# Use grepl() to match for "edu"
grepl("edu", emails)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R">grep("edu", emails)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol class="list-inline">
    <li>1</li>
    <li>2</li>
    <li>4</li>
    <li>5</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Use grep() to match for "edu", save result to hits
hits <- grep("edu", emails)

# Subset emails using hits
emails[hits]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>'john.doe@ivyleague.edu'</li>
    <li>'education@world.gov'</li>
    <li>'invalid.edu'</li>
    <li>'quant@bigdatacollege.edu'</li>
</ol>



<ul>
<li><p>You can use the caret, <code>^</code>, and the dollar sign, <code>$</code> to match the content located in the start and end of a string, respectively.</p>
</li>
<li><p><code>.*</code>, which matches any character (<code>.</code>) zero or more times (<code>*</code>). </p>
</li>
<li><p>Both the dot and the asterisk are metacharacters. You can use them to match any character between the at-sign and the “.edu” portion of an email address.</p>
</li>
<li><p><code>\\.edu$</code>, to match the “.edu” part of the email at the end of the string. The <code>\\</code> part escapes the dot: it tells R that you want to use the <code>.</code> as an actual character.</p>
</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R"># The emails vector has already been defined for you
emails <- c("john.doe@ivyleague.edu", "education@world.gov", "dalai.lama@peace.org",
            "invalid.edu", "quant@bigdatacollege.edu", "cookie.monster@sesame.tv")

# Use grepl() to match for .edu addresses more robustly
grepl(pattern = "@.*\\.edu$", x = emails)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Use grep() to match for .edu addresses more robustly, save result to hits
hits <- grep(pattern = "@.*\\.edu$", x = emails)

# Subset emails using hits
emails[hits]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>'john.doe@ivyleague.edu'</li>
    <li>'quant@bigdatacollege.edu'</li>
</ol>



<h3 id="sub-amp-gsub"><a href="#sub-amp-gsub" class="headerlink" title="sub &amp; gsub"></a>sub &amp; gsub</h3><p><code>sub()</code> and <code>gsub()</code> can specify a replacement argument. If inside the character vector x, the regular expression pattern is found, the matching element(s) will be replaced with replacement. <code>sub()</code> only replaces the first match, whereas <code>gsub()</code> replaces all matches.</p>
<pre class="line-numbers language-R"><code class="language-R"># The emails vector has already been defined for you
emails <- c("john.doe@ivyleague.edu", "education@world.gov", "global@peace.org",
            "invalid.edu", "quant@bigdatacollege.edu", "cookie.monster@sesame.tv")

# Use sub() to convert the email domains to datacamp.edu
gsub(pattern = "@.*\\.edu$", replacement = "@datacamp.edu", x = emails)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>'john.doe@datacamp.edu'</li>
    <li>'education@world.gov'</li>
    <li>'global@peace.org'</li>
    <li>'invalid.edu'</li>
    <li>'quant@datacamp.edu'</li>
    <li>'cookie.monster@sesame.tv'</li>
</ol>



<ul>
<li><p><code>.*</code>: A usual suspect! It can be read as “any character that is matched zero or more times”.</p>
</li>
<li><p><code>\\</code>s: Match a space. The “<code>s</code>“ is normally a character, escaping it (<code>\\</code>) makes it a metacharacter.</p>
</li>
<li><p><code>[0-9]+</code>: Match the numbers 0 to 9, at least once (+).</p>
</li>
<li><p><code>([0-9]+)</code>: The parentheses are used to make parts of the matching string available to define the replacement. </p>
</li>
<li><p>The <code>\\1</code> in the replacement argument of sub() gets set to the string that is captured by the regular expression <code>[0-9]+</code>.</p>
</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R">awards <- c("Won 1 Oscars.",
  "Won 1 Oscar. Another 9 wins & 24 nominations.",
  "1 win and 2 nominations.",
  "2 wins & 3 nominations.",
  "Nominated for 2 Golden Globes. 1 more win & 2 nominations.",
  "4 wins & 1 nominatio.")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R">hits <- grep(pattern = ".*\\s([0-9]+)\\snomination.*$", x = awards)

# Subset emails using hits
awards[hits]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li>'Won 1 Oscar. Another 9 wins &amp; 24 nominations.'</li>
    <li>'1 win and 2 nominations.'</li>
    <li>'2 wins &amp; 3 nominations.'</li>
    <li>'Nominated for 2 Golden Globes. 1 more win &amp; 2 nominations.'</li>
</ol>




<pre class="line-numbers language-R"><code class="language-R">sub(".*\\s([0-9]+)\\snomination.*$", "\\1", awards)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol class="list-inline">
    <li>'Won 1 Oscars.'</li>
    <li>'24'</li>
    <li>'2'</li>
    <li>'3'</li>
    <li>'2'</li>
    <li>'4 wins &amp; 1 nominatio.'</li>
</ol>



<p>The ([0-9]+) selects the entire number that comes before the word “nomination” in the string, and the entire match gets replaced by this number because of the \\1 that reference to the content inside the parentheses.</p>
<h2 id="7-Time-and-Date"><a href="#7-Time-and-Date" class="headerlink" title="7. Time and Date"></a>7. Time and Date</h2><p>In R, dates are represented by Date objects, while times are represented by POSIXct objects. Under the hood, however, these dates and times are simple numerical values. Date objects store the number of days since the 1st of January in 1970. POSIXct objects on the other hand, store the number of seconds since the 1st of January in 1970.</p>
<p>The 1st of January in 1970 is the common origin for representing times and dates in a wide range of programming languages. There is no particular reason for this; it is a simple convention. Of course, it’s also possible to create dates and times before 1970; the corresponding numerical values are simply negative in this case.</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the current date: today
today <- Sys.Date()
today
# See what today looks like under the hood
unclass(today)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><time datetime="2020-05-05">2020-05-05</time></p>
<p>18387</p>
<pre class="line-numbers language-R"><code class="language-R"># Get the current time: now
now <- Sys.time()
now
# See what now looks like under the hood
unclass(now)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;2020-05-05 11:19:52 EDT&quot;</code></pre><p>1588691992.16119</p>
<h3 id="Create-and-format-dates"><a href="#Create-and-format-dates" class="headerlink" title="Create and format dates"></a>Create and format dates</h3><p>To create a Date object from a simple character string in R, you can use the as.Date() function. The character string has to obey a format that can be defined using a set of symbols (the examples correspond to 13 January, 1982):</p>
<ul>
<li>%Y: 4-digit year (1982)</li>
<li>%y: 2-digit year (82)</li>
<li>%m: 2-digit month (01)</li>
<li>%d: 2-digit day of the month (13)</li>
<li>%A: weekday (Wednesday)</li>
<li>%a: abbreviated weekday (Wed)</li>
<li>%B: month (January)</li>
<li>%b: abbreviated month (Jan)</li>
</ul>
<p>The following R commands will all create the same Date object for the 13th day in January of 1982:</p>
<pre class="line-numbers language-R"><code class="language-R">as.Date("1982-01-13")
as.Date("Jan-13-82", format = "%b-%d-%y")
as.Date("13 January, 1982", format = "%d %B, %Y")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><time datetime="1982-01-13">1982-01-13</time></p>
<p><time datetime="1982-01-13">1982-01-13</time></p>
<p><time datetime="1982-01-13">1982-01-13</time></p>
<p><strong>Notice</strong> that the first line here did not need a format argument, because by default R matches your character string to the formats “%Y-%m-%d” or “%Y/%m/%d”.</p>
<ul>
<li>you can also convert dates to character strings that use a different date notation. For this, you use the format() function. Try the following lines of code:</li>
</ul>
<pre class="line-numbers language-R"><code class="language-R">today <- Sys.Date()
today
format(Sys.Date(), format = "%d %B, %Y")
format(Sys.Date(), format = "Today is a %A!")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><time datetime="2020-05-05">2020-05-05</time></p>
<p>‘05 May, 2020’</p>
<p>‘Today is a Tuesday!’</p>
<pre class="line-numbers language-R"><code class="language-R"># Definition of character strings representing dates
str1 <- "May 23, '96"
str2 <- "2012-03-15"
str3 <- "30/January/2006"

# Convert the strings to dates: date1, date2, date3
date1 <- as.Date(str1, format = "%b %d, '%y")
date2 <- as.Date(str2)
date3 <- as.Date(str3, format = "%d/%B/%Y") 
date1
date2
date3
# Convert dates to formatted strings
format(date1)
format(date2, "%A")
format(date3, "%A")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><time datetime="1996-05-23">1996-05-23</time></p>
<p><time datetime="2012-03-15">2012-03-15</time></p>
<p><time datetime="2006-01-30">2006-01-30</time></p>
<p>‘1996-05-23’</p>
<p>‘Thursday’</p>
<p>‘Monday’</p>
<h3 id="Create-and-format-times"><a href="#Create-and-format-times" class="headerlink" title="Create and format times"></a>Create and format times</h3><p>Similar to working with dates, you can use as.POSIXct() to convert from a character string to a POSIXct object, and format() to convert from a POSIXct object to a character string. Again, you have a wide variety of symbols:</p>
<ul>
<li>%H: hours as a decimal number (00-23)</li>
<li>%I: hours as a decimal number (01-12)</li>
<li>%M: minutes as a decimal number</li>
<li>%S: seconds as a decimal number</li>
<li>%T: shorthand notation for the typical format %H:%M:%S</li>
<li>%p: AM/PM indicator</li>
</ul>
<p>For a full list of conversion symbols, consult the strptime documentation in the console:</p>
<p>?strptime</p>
<pre class="line-numbers language-R"><code class="language-R"># Definition of character strings representing times
str1 <- "May 23, '96 hours:23 minutes:01 seconds:45"
str2 <- "2012-3-12 14:23:08"

# Convert the strings to POSIXct objects: time1, time2
time1 <- as.POSIXct(str1, format = "%B %d, '%y hours:%H minutes:%M seconds:%S")
time2 <- as.POSIXct(str2)
time1
time2
# Convert times to formatted strings
format(time1, "%B")
format(time2, "%I:%M %p")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;1996-05-23 23:01:45 EDT&quot;



[1] &quot;2012-03-12 14:23:08 EDT&quot;</code></pre><p>‘May’</p>
<p>‘02:23 PM’</p>
<h3 id="Calculations-with-Dates"><a href="#Calculations-with-Dates" class="headerlink" title="Calculations with Dates"></a>Calculations with Dates</h3><p>Both Date and POSIXct R objects are represented by simple numerical values under the hood. This makes calculation with time and date objects very straightforward: R performs the calculations using the underlying numerical values, and then converts the result back to human-readable time information again.</p>
<pre class="line-numbers language-R"><code class="language-R"> day1<-as.Date("2018-09-08")
 day2<-as.Date("2018-09-10")
 day3<-as.Date("2018-09-15")
 day4<-as.Date("2018-09-21")
 day5<-as.Date("2018-09-26")


# Difference between last and first pizza day
day5 - day1

# Create vector pizza
pizza <- c(day1, day2, day3, day4, day5)

# Create differences between consecutive pizza days: day_diff
day_diff <- diff(pizza)

# Average period between two consecutive pizza days
mean(day_diff)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Time difference of 18 days



Time difference of 4.5 days</code></pre><h3 id="Calculations-with-Times"><a href="#Calculations-with-Times" class="headerlink" title="Calculations with Times"></a>Calculations with Times</h3><p>Calculations using POSIXct objects are completely analogous to those using Date objects. Try to experiment with this code to increase or decrease POSIXct objects:</p>
<pre class="line-numbers language-R"><code class="language-R">now <- Sys.time()
now + 3600          # add an hour
now - 3600 * 24     # subtract a day<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>[1] &quot;2020-05-06 10:36:22 EDT&quot;



[1] &quot;2020-05-05 09:36:22 EDT&quot;</code></pre><pre class="line-numbers language-R"><code class="language-R"># Adding or substracting time objects is also straightforward:

birth <- as.POSIXct("1879-03-14 14:37:23")
death <- as.POSIXct("1955-04-18 03:47:12")
einstein <- death - birth
einstein<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Time difference of 27792.55 days</code></pre><pre class="line-numbers language-R"><code class="language-R">login<- as.POSIXct(c("2018-09-12 10:18:04 UTC", "2018-09-17 09:14:18 UTC", "2018-09-17 12:21:51 UTC", "2018-09-17 12:37:24 UTC", "2018-09-19 21:37:55 UTC"))
logout<-as.POSIXct(c("2018-09-12 10:56:29 UTC",  "2018-09-17 09:14:52 UTC", "2018-09-17 12:35:48 UTC", "2018-09-17 13:17:22 UTC", "2018-09-19 22:08:47 UTC"))

# Calculate the difference between login and logout: time_online
time_online <- logout - login

# Inspect the variable time_online
time_online

# Calculate the total time online
sum(time_online)

# Calculate the average time online
mean(time_online)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Time differences in secs
[1] 2305   34  837 2398 1852



Time difference of 7426 secs



Time difference of 1485.2 secs</code></pre><h3 id="Time-is-of-the-essence"><a href="#Time-is-of-the-essence" class="headerlink" title="Time is of the essence"></a>Time is of the essence</h3><p>The dates when a season begins and ends can vary depending on who you ask. People in Australia will tell you that spring starts on September 1st. The Irish people in the Northern hemisphere will swear that spring starts on February 1st, with the celebration of St. Brigid’s Day. Then there’s also the difference between astronomical(天文) and meteorological(气象) seasons: while astronomers are used to equinoxes（春分秋分） and solstices（冬至夏至）, meteorologists divide the year into 4 fixed seasons that are each three months long. (source: <a href="http://www.timeanddate.com" target="_blank" rel="noopener">www.timeanddate.com</a>)</p>
<pre class="line-numbers language-R"><code class="language-R">astro<-cbind("20-Mar-2015", "25-Jun-2015", "23-Sep-2015", "22-Dec-2015")
colnames(astro)<-c("spring","summer", "fall", "winter")
meteo<-cbind( "March 1, 15" ,  "June 1, 15",  "September 1, 15",  "December 1, 15")
colnames(meteo)<-c("spring","summer", "fall", "winter")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-R"><code class="language-R">astro
meteo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<table>
<thead><tr><th scope="col">spring</th><th scope="col">summer</th><th scope="col">fall</th><th scope="col">winter</th></tr></thead>
<tbody>
    <tr><td>20-Mar-2015</td><td>25-Jun-2015</td><td>23-Sep-2015</td><td>22-Dec-2015</td></tr>
</tbody>
</table>




<table>
<thead><tr><th scope="col">spring</th><th scope="col">summer</th><th scope="col">fall</th><th scope="col">winter</th></tr></thead>
<tbody>
    <tr><td>March 1, 15    </td><td>June 1, 15     </td><td>September 1, 15</td><td>December 1, 15 </td></tr>
</tbody>
</table>




<pre class="line-numbers language-R"><code class="language-R"># Convert astro to vector of Date objects: astro_dates
astro_dates <- as.Date(astro, format = "%d-%b-%Y")
astro_dates
# Convert meteo to vector of Date objects: meteo_dates
meteo_dates <- as.Date(meteo, format = "%B %d, %y")
meteo_dates<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol class="list-inline">
    <li><time datetime="2015-03-20">2015-03-20</time></li>
    <li><time datetime="2015-06-25">2015-06-25</time></li>
    <li><time datetime="2015-09-23">2015-09-23</time></li>
    <li><time datetime="2015-12-22">2015-12-22</time></li>
</ol>




<ol class="list-inline">
    <li><time datetime="2015-03-01">2015-03-01</time></li>
    <li><time datetime="2015-06-01">2015-06-01</time></li>
    <li><time datetime="2015-09-01">2015-09-01</time></li>
    <li><time datetime="2015-12-01">2015-12-01</time></li>
</ol>




<pre class="line-numbers language-R"><code class="language-R"># Calculate the maximum absolute difference between astro_dates and meteo_dates
astro_dates - meteo_dates<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>Time differences in days
[1] 19 24 22 21</code></pre><pre class="line-numbers language-R"><code class="language-R">abs(astro_dates - meteo_dates)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>Time differences in days
[1] 19 24 22 21</code></pre><pre class="line-numbers language-R"><code class="language-R"># Calculate the maximum absolute difference between astro_dates and meteo_dates
max(abs(astro_dates - meteo_dates))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>Time difference of 24 days</code></pre>
            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>Reprint policy</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《Intermediate R》
                </span> by
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/05/06/2-r-intermed-cn/" property="cc:attributionName"
               rel="cc:attributionURL">
                Yuandong Qi
            </a> is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                Creative Commons Attribution 4.0 International License
            </a> 
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3f4488743f6373c542f5',
        clientSecret: 'b0368078c4c52c2734696a9c8ffe8d05a56932a3',
        repo: 'yuandongqi.github.io',
        owner: 'yuandongqi',
        admin: "yuandongqi",
        id: '2020/05/06/2-r-intermed-cn/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'en',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2020/05/10/data-manipulation-intro/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/25.jpg" class="responsive-img" alt="Introduction to Data Manipulation">
                        
                        <span class="card-title">Introduction to Data Manipulation</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            This is an introduction course to the programming language R, focused on a powerful tool known as the **dplyr**. We'll learn to manipulate data by filtering, sorting, and summarizing a real dataset of historical country data, county data and baby name data in order to answer exploratory questions.
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-05-10
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Courses/" class="post-category" target="_blank">
                                    Courses
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/R/" target="_blank">
                        <span class="chip bg-color">R</span>
                    </a>
                    
                    <a href="/tags/data-science/" target="_blank">
                        <span class="chip bg-color">data science</span>
                    </a>
                    
                    <a href="/tags/concepts/" target="_blank">
                        <span class="chip bg-color">concepts</span>
                    </a>
                    
                    <a href="/tags/data-manipulation/" target="_blank">
                        <span class="chip bg-color">data manipulation</span>
                    </a>
                    
                    <a href="/tags/dplyr/" target="_blank">
                        <span class="chip bg-color">dplyr</span>
                    </a>
                    
                    <a href="/tags/tidyverse/" target="_blank">
                        <span class="chip bg-color">tidyverse</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/28/1-r-intro-cn/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="Introduction to R From Data Science Perspective">
                        
                        <span class="card-title">Introduction to R From Data Science Perspective</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            This course introduces some basic concepts of R from data science perspective.
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-04-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Courses/" class="post-category" target="_blank">
                                    Courses
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/R/" target="_blank">
                        <span class="chip bg-color">R</span>
                    </a>
                    
                    <a href="/tags/data-science/" target="_blank">
                        <span class="chip bg-color">data science</span>
                    </a>
                    
                    <a href="/tags/concepts/" target="_blank">
                        <span class="chip bg-color">concepts</span>
                    </a>
                    
                    <a href="/tags/basics/" target="_blank">
                        <span class="chip bg-color">basics</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; Yuandong Qi.

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;Site word counts:&nbsp;
            <span class="white-color">56.9k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/yuandongqi" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:qiyuandong@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>









    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 0;
        var uvcountOffset = 0;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2020, 04, 26, 00, 00, 00); //est
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "This site has been operating for " + diffYears + " Years " + diffDays + " Days " + diffHours + " Hours " + diffMinutes + " Minutes " + diffSeconds + " Seconds";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    

    <!-- 雪花特效 -->
    

</body>

</html>